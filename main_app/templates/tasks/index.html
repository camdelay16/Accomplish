{% extends 'base.html' %} {% load static %} {% block head %}
<link
  rel="stylesheet"
  href="{% static 'css/tasks/task-index.css' %}"
/>
{% endblock %} {% block content %}

<div
  class="accordion"
  id="accordionExample"
>
  <div class="accordion-item">
    <h2 class="accordion-header">
      <button
        class="accordion-button"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#collapseOne"
        aria-expanded="true"
        aria-controls="collapseOne"
      >
        All Tasks
      </button>
    </h2>
    <div
      id="collapseOne"
      class="accordion-collapse collapse show"
      data-bs-parent="#accordionExample"
    >
      <div class="accordion-body">
        <div
          id="all-tasks"
          class="carousel slide"
        >
          <div class="carousel-inner">
            {% for task in tasks %}
            <div class="carousel-item {% if forloop.first %}active{% endif %}">
              <div class="card">
                <h5 class="card-header">
                  <div>{{ task.task_name }}</div>
                  <div
                    id="priority"
                    style="background-color: 
      {% if task.priority == 'High' %}var(--danger)
      {% elif task.priority == 'Medium' %}var(--warning)
      {% elif task.priority == 'Low' %}var(--success)
      {% else %}white
      {% endif %};"
                  >
                    <p>{{task.priority}}</p>
                  </div>
                </h5>
                <div class="card-body">
                  <h6 class="card-text">Due: {{task.due_date}}</h6>
                  <p class="card-text">{{ task.note }}</p>
                  <button class="card-btn">
                    <a href="{% url 'task-detail' task.id %}">View</a>
                  </button>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#all-tasks"
            data-bs-slide="prev"
          >
            <span
              class="carousel-control-prev-icon"
              aria-hidden="true"
            ></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#all-tasks"
            data-bs-slide="next"
          >
            <span
              class="carousel-control-next-icon"
              aria-hidden="true"
            ></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header">
      <button
        class="accordion-button collapsed"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#collapseTwo"
        aria-expanded="false"
        aria-controls="collapseTwo"
      >
        High Priority
      </button>
    </h2>
    <div
      id="collapseTwo"
      class="accordion-collapse collapse"
      data-bs-parent="#accordionExample"
    >
      <div class="accordion-body">
        <div
          id="priority-High"
          class="carousel slide"
        >
          <div class="carousel-inner">
            {% for task in tasks %} {% if task.priority == 'High' %}
            <div class="carousel-item active">
              <div class="card">
                <h5 class="card-header">
                  <div>{{ task.task_name }}</div>
                  <div
                    id="priority"
                    style="background-color: 
      {% if task.priority == 'High' %}var(--danger)
      {% elif task.priority == 'Medium' %}var(--warning)
      {% elif task.priority == 'Low' %}var(--success)
      {% else %}white
      {% endif %};"
                  >
                    <p>{{task.priority}}</p>
                  </div>
                </h5>
                <div class="card-body">
                  <h6 class="card-text">Due: {{task.due_date}}</h6>
                  <p class="card-text">{{ task.note }}</p>
                  <button class="card-btn">
                    <a href="{% url 'task-detail' task.id %}">View</a>
                  </button>
                </div>
              </div>
            </div>
            {% endif %} {% endfor %}
          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#priority-High"
            data-bs-slide="prev"
          >
            <span
              class="carousel-control-prev-icon"
              aria-hidden="true"
            ></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#priority-High"
            data-bs-slide="next"
          >
            <span
              class="carousel-control-next-icon"
              aria-hidden="true"
            ></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header">
      <button
        class="accordion-button collapsed"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#collapseThree"
        aria-expanded="false"
        aria-controls="collapseThree"
      >
        Medium Priority
      </button>
    </h2>
    <div
      id="collapseThree"
      class="accordion-collapse collapse"
      data-bs-parent="#accordionExample"
    >
      <div class="accordion-body">
        <div
          id="priority-Medium"
          class="carousel slide"
        >
          <div class="carousel-inner">
            {% for task in tasks %} {% if task.priority == 'Medium' %}
            <div class="carousel-item active">
              <div class="card">
                <h5 class="card-header">
                  <div>{{ task.task_name }}</div>
                  <div
                    id="priority"
                    style="background-color: 
      {% if task.priority == 'High' %}var(--danger)
      {% elif task.priority == 'Medium' %}var(--warning)
      {% elif task.priority == 'Low' %}var(--success)
      {% else %}white
      {% endif %};"
                  >
                    <p>{{task.priority}}</p>
                  </div>
                </h5>
                <div class="card-body">
                  <h6 class="card-text">Due: {{task.due_date}}</h6>
                  <p class="card-text">{{ task.note }}</p>
                  <button class="card-btn">
                    <a href="{% url 'task-detail' task.id %}">View</a>
                  </button>
                </div>
              </div>
            </div>
            {% endif %} {% endfor %}
          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#priority-Medium"
            data-bs-slide="prev"
          >
            <span
              class="carousel-control-prev-icon"
              aria-hidden="true"
            ></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#priority-Medium"
            data-bs-slide="next"
          >
            <span
              class="carousel-control-next-icon"
              aria-hidden="true"
            ></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header">
      <button
        class="accordion-button collapsed"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#collapseFour"
        aria-expanded="false"
        aria-controls="collapseFour"
      >
        Low Priority
      </button>
    </h2>
    <div
      id="collapseFour"
      class="accordion-collapse collapse"
      data-bs-parent="#accordionExample"
    >
      <div class="accordion-body">
        <div
          id="priority-Low"
          class="carousel slide"
        >
          <div class="carousel-inner">
            {% for task in tasks %} {% if task.priority == 'Low' %}
            <div class="carousel-item active">
              <div class="card">
                <h5 class="card-header">
                  <div>{{ task.task_name }}</div>
                  <div
                    id="priority"
                    style="background-color: 
      {% if task.priority == 'High' %}var(--danger)
      {% elif task.priority == 'Medium' %}var(--warning)
      {% elif task.priority == 'Low' %}var(--success)
      {% else %}white
      {% endif %};"
                  >
                    <p>{{task.priority}}</p>
                  </div>
                </h5>
                <div class="card-body">
                  <h6 class="card-text">Due: {{task.due_date}}</h6>
                  <p class="card-text">{{ task.note }}</p>
                  <button class="card-btn">
                    <a href="{% url 'task-detail' task.id %}">View</a>
                  </button>
                </div>
              </div>
            </div>
            {% endif %} {% endfor %}
          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#priority-Low"
            data-bs-slide="prev"
          >
            <span
              class="carousel-control-prev-icon"
              aria-hidden="true"
            ></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#priority-Low"
            data-bs-slide="next"
          >
            <span
              class="carousel-control-next-icon"
              aria-hidden="true"
            ></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

{% comment %} NOTE: this is a place holder {% endcomment %}
<section class="page-header">
  <h1>All Tasks</h1>
  <button class="card-btn">
    <a href="{% url 'task-create' %}">New Task</a>
  </button>
</section>

<section class="tasks">
  <div class="card-container">
    {% for task in tasks %}
    <div class="card">
      <h5 class="card-header">
        <div>{{ task.task_name }}</div>
        <div
          id="priority"
          style="background-color: 
      {% if task.priority == 'High' %}var(--danger)
      {% elif task.priority == 'Medium' %}var(--warning)
      {% elif task.priority == 'Low' %}var(--success)
      {% else %}white
      {% endif %};"
        >
          <p>{{task.priority}}</p>
        </div>
      </h5>
      <div class="card-body">
        <h6 class="card-text">Due: {{task.due_date}}</h6>
        <p class="card-text">{{ task.note }}</p>
        <button class="card-btn">
          <a href="{% url 'task-detail' task.id %}">View</a>
        </button>
      </div>
    </div>
    {% endfor %}
  </div>
</section>

{% endblock %}
